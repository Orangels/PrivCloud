webpackJsonp([16],{1373:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),l=a.n(i),s=a(1076),u=(a.n(s),a(1154)),c=a.n(u),m=(a(1077),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),p=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={fields:[],chart_data:[],max_gpu:12196,chartIns:null},a}return o(t,e),m(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.data,a=e.cols,n=(e.x_name,e.y_name,e.fields);t=t||[],a=a||{},n=n||["0","1","2","3","4","5","6","7"],this.setState({data:t,cols:a,fields:n})}},{key:"componentWillReceiveProps",value:function(e,t){var a=e.data,n=e.cols,r=e.fields;console.log(a),a=a||[],n=n||{},r=r||["0","1","2","3","4","5","6","7"],this.setState({data:a,cols:n,fields:r})}},{key:"render",value:function(){var e=this,t=[{timestamp:"12-13",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-14",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-15",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-16",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-17",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-18",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50},{timestamp:"12-19",0:1e3,1:1e3,2:1e3,3:1e3,temperature:50}],a=(this.state.max_gpu,this.state.data||t),n=new c.a,r=n.createView().source(a);return r.transform({type:"fold",fields:this.state.fields,key:"gpu",value:"value"}),l.a.createElement("div",null,l.a.createElement(s.Chart,{height:400,data:r,scale:this.state.cols,forceFit:!0,onGetG2Instance:function(t){e.setState({chartIns:t})}},l.a.createElement(s.Legend,{custom:!0,allowAllCanceled:!0,items:[{value:"\u5e73\u5747\u663e\u5b58\u5360\u7528",marker:{symbol:"hyphen",stroke:"#FA4E21",radius:5,lineWidth:3}},{value:"GPU\u5229\u7528\u7387",marker:{symbol:"hyphen",stroke:"#1581E6",radius:5,lineWidth:3}},{value:"\u6e29\u5ea6",marker:{symbol:"hyphen",stroke:"#fad248",radius:5,lineWidth:3}}],onClick:function(t){for(var a=t.item,n=a.value,r=t.checked,o=e.state.chartIns.getAllGeoms(),i=0;i<o.length;i++){var l=o[i];l.getYScale().alias===n&&(r?l.show():l.hide())}}}),l.a.createElement(s.Axis,{name:"gpu_value",label:{offset:0,formatter:function(e){return Math.round(e/1024)+"GiB"}}}),l.a.createElement(s.Axis,{name:"temperature",label:{offset:1,formatter:function(e,t,a){return e+"\u2103"}}}),l.a.createElement(s.Axis,{name:"GPU_use_percent",visible:!1}),l.a.createElement(s.Axis,{name:"value",visible:!1}),l.a.createElement(s.Tooltip,null),l.a.createElement(s.Geom,{type:"line",position:"timestamp*gpu_value",color:"#FA4E21",size:3,tooltip:["\u6e29\u5ea6*gpu_value",function(e,t){return{name:"\u5e73\u5747\u663e\u5b58",value:t+"Mib"}}]}),l.a.createElement(s.Geom,{type:"line",position:"timestamp*temperature",color:"#fad248",size:3,tooltip:["\u6e29\u5ea6*temperature",function(e,t){return{name:"\u6e29\u5ea6",value:t+"\u2103"}}]}),l.a.createElement(s.Geom,{type:"line",position:"timestamp*GPU_use_percent",color:"#1581E6",size:3,tooltip:["\u6e29\u5ea6*GPU_use_percent",function(e,t){return{name:"GPU \u5360\u7528\u7387",value:t+"%"}}]}),l.a.createElement(s.Geom,{type:"intervalStack",position:"timestamp*value",color:["gpu",["transparent"]],tooltip:["gpu*value",function(e,t){return{name:e+"\u5361",value:t+" "}}]})))}}]),t}(l.a.Component);t.default=p}});
//# sourceMappingURL=16.9572840f.chunk.js.map